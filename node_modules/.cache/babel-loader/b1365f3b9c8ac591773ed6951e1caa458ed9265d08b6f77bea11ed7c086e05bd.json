{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/OneDrive/Desktop/project/gym/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ref,push,set,onValue}from'firebase/database';import{ref as storageRef,uploadBytes,getDownloadURL}from'firebase/storage';import{database,storage}from'../firebase/config';import{useAuth}from'../contexts/SimpleAuthContext';import{Camera,Save,TrendingUp,TrendingDown}from'lucide-react';import{Line}from'react-chartjs-2';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BodyMetrics=()=>{var _metrics$find,_metrics$find2;const{currentUser}=useAuth();const[metrics,setMetrics]=useState([]);const[currentMetric,setCurrentMetric]=useState({date:new Date().toISOString().split('T')[0],weight:'',bodyFat:'',notes:''});const[selectedPhoto,setSelectedPhoto]=useState(null);const[uploading,setUploading]=useState(false);const[loading,setLoading]=useState(true);useEffect(()=>{if(!currentUser){setLoading(false);return;}try{// Load metrics from localStorage\nconst savedMetrics=localStorage.getItem(\"gymtracker_metrics_\".concat(currentUser.uid));if(savedMetrics){const metricsData=JSON.parse(savedMetrics);const metricsList=Object.keys(metricsData).map(key=>_objectSpread({id:key},metricsData[key])).sort((a,b)=>new Date(b.date)-new Date(a.date));setMetrics(metricsList);}}catch(error){console.error('Error loading metrics:',error);}setLoading(false);},[currentUser]);const handlePhotoSelect=event=>{const file=event.target.files[0];if(file){setSelectedPhoto(file);}};const uploadPhoto=async file=>{const timestamp=Date.now();const photoRef=storageRef(storage,\"progress-photos/\".concat(timestamp,\"_\").concat(file.name));const snapshot=await uploadBytes(photoRef,file);return await getDownloadURL(snapshot.ref);};const saveMetric=async()=>{if(!currentMetric.weight&&!currentMetric.bodyFat&&!selectedPhoto)return;if(!currentUser){alert('Please log in to save metrics');return;}setUploading(true);try{let photoUrl=null;if(selectedPhoto){try{photoUrl=await uploadPhoto(selectedPhoto);}catch(photoError){console.warn('Photo upload failed:',photoError);// Continue without photo\n}}const metricData=_objectSpread(_objectSpread({},currentMetric),{},{weight:parseFloat(currentMetric.weight)||null,bodyFat:parseFloat(currentMetric.bodyFat)||null,photoUrl,timestamp:Date.now()});// Save to localStorage\nconst metricId=\"metric-\".concat(Date.now());const existingMetrics=JSON.parse(localStorage.getItem(\"gymtracker_metrics_\".concat(currentUser.uid))||'{}');existingMetrics[metricId]=metricData;localStorage.setItem(\"gymtracker_metrics_\".concat(currentUser.uid),JSON.stringify(existingMetrics));// Also try to save to Firebase if available\ntry{const metricsRef=ref(database,\"users/\".concat(currentUser.uid,\"/bodyMetrics\"));const newMetricRef=push(metricsRef);await set(newMetricRef,metricData);}catch(firebaseError){console.warn('Firebase save failed, data saved locally:',firebaseError);}// Reset form\nsetCurrentMetric({date:new Date().toISOString().split('T')[0],weight:'',bodyFat:'',notes:''});setSelectedPhoto(null);alert('Metrics saved successfully!');// Reload metrics\nconst updatedMetrics=JSON.parse(localStorage.getItem(\"gymtracker_metrics_\".concat(currentUser.uid))||'{}');const metricsList=Object.keys(updatedMetrics).map(key=>_objectSpread({id:key},updatedMetrics[key])).sort((a,b)=>new Date(b.date)-new Date(a.date));setMetrics(metricsList);}catch(error){console.error('Error saving metrics:',error);alert('Error saving metrics');}finally{setUploading(false);}};// Prepare weight chart data\nconst getWeightData=()=>{const weightData=metrics.filter(m=>m.weight).reverse().slice(-30);// Last 30 entries\nreturn{labels:weightData.map(data=>format(new Date(data.date),'MMM dd')),datasets:[{label:'Weight (lbs)',data:weightData.map(data=>data.weight),borderColor:'rgb(59, 130, 246)',backgroundColor:'rgba(59, 130, 246, 0.1)',tension:0.1,fill:true}]};};// Prepare body fat chart data\nconst getBodyFatData=()=>{const bodyFatData=metrics.filter(m=>m.bodyFat).reverse().slice(-30);// Last 30 entries\nreturn{labels:bodyFatData.map(data=>format(new Date(data.date),'MMM dd')),datasets:[{label:'Body Fat %',data:bodyFatData.map(data=>data.bodyFat),borderColor:'rgb(16, 185, 129)',backgroundColor:'rgba(16, 185, 129, 0.1)',tension:0.1,fill:true}]};};const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',labels:{color:'#F9FAFB'}}},scales:{x:{ticks:{color:'#9CA3AF'},grid:{color:'#374151'}},y:{ticks:{color:'#9CA3AF'},grid:{color:'#374151'}}}};// Calculate trends\nconst getWeightTrend=()=>{const recentWeights=metrics.filter(m=>m.weight).slice(0,5);if(recentWeights.length<2)return null;const latest=recentWeights[0].weight;const previous=recentWeights[recentWeights.length-1].weight;const change=latest-previous;return{change:Math.abs(change).toFixed(1),direction:change>0?'up':change<0?'down':'stable'};};const getBodyFatTrend=()=>{const recentBodyFat=metrics.filter(m=>m.bodyFat).slice(0,5);if(recentBodyFat.length<2)return null;const latest=recentBodyFat[0].bodyFat;const previous=recentBodyFat[recentBodyFat.length-1].bodyFat;const change=latest-previous;return{change:Math.abs(change).toFixed(1),direction:change>0?'up':change<0?'down':'stable'};};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:\"Loading metrics...\"})});}const weightTrend=getWeightTrend();const bodyFatTrend=getBodyFatTrend();return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:\"Body Metrics & Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Log New Metrics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:currentMetric.date,onChange:e=>setCurrentMetric(prev=>_objectSpread(_objectSpread({},prev),{},{date:e.target.value})),className:\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Weight (lbs)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",value:currentMetric.weight,onChange:e=>setCurrentMetric(prev=>_objectSpread(_objectSpread({},prev),{},{weight:e.target.value})),className:\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",placeholder:\"e.g., 180.5\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Body Fat %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",value:currentMetric.bodyFat,onChange:e=>setCurrentMetric(prev=>_objectSpread(_objectSpread({},prev),{},{bodyFat:e.target.value})),className:\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",placeholder:\"e.g., 15.2\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:currentMetric.notes,onChange:e=>setCurrentMetric(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),className:\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",rows:\"2\",placeholder:\"Optional notes about your progress...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Progress Photo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handlePhotoSelect,className:\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"}),selectedPhoto&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm text-green-400\",children:[\"Selected: \",selectedPhoto.name]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:saveMetric,disabled:uploading||!currentMetric.weight&&!currentMetric.bodyFat&&!selectedPhoto,className:\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded flex items-center justify-center gap-2\",children:uploading?/*#__PURE__*/_jsx(_Fragment,{children:\"Uploading...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Save,{size:20}),\"Save Metrics\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-400\",children:((_metrics$find=metrics.find(m=>m.weight))===null||_metrics$find===void 0?void 0:_metrics$find.weight)||'--'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Current Weight (lbs)\"}),weightTrend&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs flex items-center justify-center gap-1 mt-1 \".concat(weightTrend.direction==='up'?'text-red-400':weightTrend.direction==='down'?'text-green-400':'text-gray-400'),children:[weightTrend.direction==='up'?/*#__PURE__*/_jsx(TrendingUp,{size:12}):weightTrend.direction==='down'?/*#__PURE__*/_jsx(TrendingDown,{size:12}):null,weightTrend.change,\" lbs\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-green-400\",children:[((_metrics$find2=metrics.find(m=>m.bodyFat))===null||_metrics$find2===void 0?void 0:_metrics$find2.bodyFat)||'--',\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Current Body Fat\"}),bodyFatTrend&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs flex items-center justify-center gap-1 mt-1 \".concat(bodyFatTrend.direction==='up'?'text-red-400':bodyFatTrend.direction==='down'?'text-green-400':'text-gray-400'),children:[bodyFatTrend.direction==='up'?/*#__PURE__*/_jsx(TrendingUp,{size:12}):bodyFatTrend.direction==='down'?/*#__PURE__*/_jsx(TrendingDown,{size:12}):null,bodyFatTrend.change,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-400\",children:metrics.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Total Entries\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-400\",children:metrics.filter(m=>m.photoUrl).length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:\"Progress Photos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Weight Progression\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:getWeightData(),options:chartOptions})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Body Fat Progression\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:getBodyFatData(),options:chartOptions})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Camera,{size:20}),\"Progress Photos\"]}),metrics.filter(m=>m.photoUrl).length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",children:metrics.filter(m=>m.photoUrl).slice(0,12)// Show latest 12 photos\n.map(metric=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:metric.photoUrl,alt:\"Progress \".concat(format(new Date(metric.date),'MMM dd, yyyy')),className:\"w-full h-48 object-cover rounded-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2 rounded-b-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:format(new Date(metric.date),'MMM dd, yyyy')}),metric.weight&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs\",children:[metric.weight,\" lbs\"]})]})]},metric.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-400 py-8\",children:\"No progress photos yet. Upload your first photo above!\"})]})]});};export default BodyMetrics;","map":{"version":3,"names":["React","useState","useEffect","ref","push","set","onValue","storageRef","uploadBytes","getDownloadURL","database","storage","useAuth","Camera","Save","TrendingUp","TrendingDown","Line","format","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BodyMetrics","_metrics$find","_metrics$find2","currentUser","metrics","setMetrics","currentMetric","setCurrentMetric","date","Date","toISOString","split","weight","bodyFat","notes","selectedPhoto","setSelectedPhoto","uploading","setUploading","loading","setLoading","savedMetrics","localStorage","getItem","concat","uid","metricsData","JSON","parse","metricsList","Object","keys","map","key","_objectSpread","id","sort","a","b","error","console","handlePhotoSelect","event","file","target","files","uploadPhoto","timestamp","now","photoRef","name","snapshot","saveMetric","alert","photoUrl","photoError","warn","metricData","parseFloat","metricId","existingMetrics","setItem","stringify","metricsRef","newMetricRef","firebaseError","updatedMetrics","getWeightData","weightData","filter","m","reverse","slice","labels","data","datasets","label","borderColor","backgroundColor","tension","fill","getBodyFatData","bodyFatData","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","color","scales","x","ticks","grid","y","getWeightTrend","recentWeights","length","latest","previous","change","Math","abs","toFixed","direction","getBodyFatTrend","recentBodyFat","className","children","weightTrend","bodyFatTrend","type","value","onChange","e","prev","step","placeholder","rows","accept","onClick","disabled","size","find","options","metric","src","alt"],"sources":["C:/Users/ASUS/OneDrive/Desktop/project/gym/src/components/BodyMetrics.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ref, push, set, onValue } from 'firebase/database';\r\nimport { ref as storageRef, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport { database, storage } from '../firebase/config';\r\nimport { useAuth } from '../contexts/SimpleAuthContext';\r\nimport { Camera, Save, TrendingUp, TrendingDown } from 'lucide-react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { format } from 'date-fns';\r\n\r\nconst BodyMetrics = () => {\r\n  const { currentUser } = useAuth();\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [currentMetric, setCurrentMetric] = useState({\r\n    date: new Date().toISOString().split('T')[0],\r\n    weight: '',\r\n    bodyFat: '',\r\n    notes: ''\r\n  });\r\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Load metrics from localStorage\r\n      const savedMetrics = localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`);\r\n      if (savedMetrics) {\r\n        const metricsData = JSON.parse(savedMetrics);\r\n        const metricsList = Object.keys(metricsData).map(key => ({\r\n          id: key,\r\n          ...metricsData[key]\r\n        })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        setMetrics(metricsList);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading metrics:', error);\r\n    }\r\n    setLoading(false);\r\n  }, [currentUser]);\r\n\r\n  const handlePhotoSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setSelectedPhoto(file);\r\n    }\r\n  };\r\n\r\n  const uploadPhoto = async (file) => {\r\n    const timestamp = Date.now();\r\n    const photoRef = storageRef(storage, `progress-photos/${timestamp}_${file.name}`);\r\n    const snapshot = await uploadBytes(photoRef, file);\r\n    return await getDownloadURL(snapshot.ref);\r\n  };\r\n\r\n  const saveMetric = async () => {\r\n    if (!currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto) return;\r\n    \r\n    if (!currentUser) {\r\n      alert('Please log in to save metrics');\r\n      return;\r\n    }\r\n    \r\n    setUploading(true);\r\n    try {\r\n      let photoUrl = null;\r\n      if (selectedPhoto) {\r\n        try {\r\n          photoUrl = await uploadPhoto(selectedPhoto);\r\n        } catch (photoError) {\r\n          console.warn('Photo upload failed:', photoError);\r\n          // Continue without photo\r\n        }\r\n      }\r\n\r\n      const metricData = {\r\n        ...currentMetric,\r\n        weight: parseFloat(currentMetric.weight) || null,\r\n        bodyFat: parseFloat(currentMetric.bodyFat) || null,\r\n        photoUrl,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Save to localStorage\r\n      const metricId = `metric-${Date.now()}`;\r\n      const existingMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\r\n      existingMetrics[metricId] = metricData;\r\n      localStorage.setItem(`gymtracker_metrics_${currentUser.uid}`, JSON.stringify(existingMetrics));\r\n\r\n      // Also try to save to Firebase if available\r\n      try {\r\n        const metricsRef = ref(database, `users/${currentUser.uid}/bodyMetrics`);\r\n        const newMetricRef = push(metricsRef);\r\n        await set(newMetricRef, metricData);\r\n      } catch (firebaseError) {\r\n        console.warn('Firebase save failed, data saved locally:', firebaseError);\r\n      }\r\n\r\n      // Reset form\r\n      setCurrentMetric({\r\n        date: new Date().toISOString().split('T')[0],\r\n        weight: '',\r\n        bodyFat: '',\r\n        notes: ''\r\n      });\r\n      setSelectedPhoto(null);\r\n      \r\n      alert('Metrics saved successfully!');\r\n      \r\n      // Reload metrics\r\n      const updatedMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\r\n      const metricsList = Object.keys(updatedMetrics).map(key => ({\r\n        id: key,\r\n        ...updatedMetrics[key]\r\n      })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n      setMetrics(metricsList);\r\n      \r\n    } catch (error) {\r\n      console.error('Error saving metrics:', error);\r\n      alert('Error saving metrics');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Prepare weight chart data\r\n  const getWeightData = () => {\r\n    const weightData = metrics\r\n      .filter(m => m.weight)\r\n      .reverse()\r\n      .slice(-30); // Last 30 entries\r\n\r\n    return {\r\n      labels: weightData.map(data => format(new Date(data.date), 'MMM dd')),\r\n      datasets: [\r\n        {\r\n          label: 'Weight (lbs)',\r\n          data: weightData.map(data => data.weight),\r\n          borderColor: 'rgb(59, 130, 246)',\r\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n          tension: 0.1,\r\n          fill: true,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  // Prepare body fat chart data\r\n  const getBodyFatData = () => {\r\n    const bodyFatData = metrics\r\n      .filter(m => m.bodyFat)\r\n      .reverse()\r\n      .slice(-30); // Last 30 entries\r\n\r\n    return {\r\n      labels: bodyFatData.map(data => format(new Date(data.date), 'MMM dd')),\r\n      datasets: [\r\n        {\r\n          label: 'Body Fat %',\r\n          data: bodyFatData.map(data => data.bodyFat),\r\n          borderColor: 'rgb(16, 185, 129)',\r\n          backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n          tension: 0.1,\r\n          fill: true,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          color: '#F9FAFB'\r\n        }\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        ticks: { color: '#9CA3AF' },\r\n        grid: { color: '#374151' }\r\n      },\r\n      y: {\r\n        ticks: { color: '#9CA3AF' },\r\n        grid: { color: '#374151' }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Calculate trends\r\n  const getWeightTrend = () => {\r\n    const recentWeights = metrics.filter(m => m.weight).slice(0, 5);\r\n    if (recentWeights.length < 2) return null;\r\n    \r\n    const latest = recentWeights[0].weight;\r\n    const previous = recentWeights[recentWeights.length - 1].weight;\r\n    const change = latest - previous;\r\n    \r\n    return {\r\n      change: Math.abs(change).toFixed(1),\r\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\r\n    };\r\n  };\r\n\r\n  const getBodyFatTrend = () => {\r\n    const recentBodyFat = metrics.filter(m => m.bodyFat).slice(0, 5);\r\n    if (recentBodyFat.length < 2) return null;\r\n    \r\n    const latest = recentBodyFat[0].bodyFat;\r\n    const previous = recentBodyFat[recentBodyFat.length - 1].bodyFat;\r\n    const change = latest - previous;\r\n    \r\n    return {\r\n      change: Math.abs(change).toFixed(1),\r\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"text-lg\">Loading metrics...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const weightTrend = getWeightTrend();\r\n  const bodyFatTrend = getBodyFatTrend();\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-4\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">Body Metrics & Progress</h2>\r\n      \r\n      {/* Input Form */}\r\n      <div className=\"bg-gray-800 rounded-lg p-4 mb-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Log New Metrics</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={currentMetric.date}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, date: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Weight (lbs)</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              value={currentMetric.weight}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, weight: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n              placeholder=\"e.g., 180.5\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Body Fat %</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              value={currentMetric.bodyFat}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, bodyFat: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n              placeholder=\"e.g., 15.2\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Notes</label>\r\n          <textarea\r\n            value={currentMetric.notes}\r\n            onChange={(e) => setCurrentMetric(prev => ({ ...prev, notes: e.target.value }))}\r\n            className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n            rows=\"2\"\r\n            placeholder=\"Optional notes about your progress...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Progress Photo</label>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handlePhotoSelect}\r\n            className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n          />\r\n          {selectedPhoto && (\r\n            <div className=\"mt-2 text-sm text-green-400\">\r\n              Selected: {selectedPhoto.name}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={saveMetric}\r\n          disabled={uploading || (!currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto)}\r\n          className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded flex items-center justify-center gap-2\"\r\n        >\r\n          {uploading ? (\r\n            <>Uploading...</>\r\n          ) : (\r\n            <>\r\n              <Save size={20} />\r\n              Save Metrics\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Current Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-blue-400\">\r\n            {metrics.find(m => m.weight)?.weight || '--'}\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Current Weight (lbs)</div>\r\n          {weightTrend && (\r\n            <div className={`text-xs flex items-center justify-center gap-1 mt-1 ${\r\n              weightTrend.direction === 'up' ? 'text-red-400' : \r\n              weightTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'\r\n            }`}>\r\n              {weightTrend.direction === 'up' ? <TrendingUp size={12} /> : \r\n               weightTrend.direction === 'down' ? <TrendingDown size={12} /> : null}\r\n              {weightTrend.change} lbs\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-green-400\">\r\n            {metrics.find(m => m.bodyFat)?.bodyFat || '--'}%\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Current Body Fat</div>\r\n          {bodyFatTrend && (\r\n            <div className={`text-xs flex items-center justify-center gap-1 mt-1 ${\r\n              bodyFatTrend.direction === 'up' ? 'text-red-400' : \r\n              bodyFatTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'\r\n            }`}>\r\n              {bodyFatTrend.direction === 'up' ? <TrendingUp size={12} /> : \r\n               bodyFatTrend.direction === 'down' ? <TrendingDown size={12} /> : null}\r\n              {bodyFatTrend.change}%\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-yellow-400\">{metrics.length}</div>\r\n          <div className=\"text-sm text-gray-400\">Total Entries</div>\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-purple-400\">\r\n            {metrics.filter(m => m.photoUrl).length}\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Progress Photos</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n        <div className=\"bg-gray-800 rounded-lg p-4\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Weight Progression</h3>\r\n          <div className=\"chart-container\">\r\n            <Line data={getWeightData()} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Body Fat Progression</h3>\r\n          <div className=\"chart-container\">\r\n            <Line data={getBodyFatData()} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Photos Gallery */}\r\n      <div className=\"bg-gray-800 rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n          <Camera size={20} />\r\n          Progress Photos\r\n        </h3>\r\n        \r\n        {metrics.filter(m => m.photoUrl).length > 0 ? (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n            {metrics\r\n              .filter(m => m.photoUrl)\r\n              .slice(0, 12) // Show latest 12 photos\r\n              .map((metric) => (\r\n                <div key={metric.id} className=\"relative\">\r\n                  <img\r\n                    src={metric.photoUrl}\r\n                    alt={`Progress ${format(new Date(metric.date), 'MMM dd, yyyy')}`}\r\n                    className=\"w-full h-48 object-cover rounded-lg\"\r\n                  />\r\n                  <div className=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2 rounded-b-lg\">\r\n                    <div className=\"text-sm font-medium\">\r\n                      {format(new Date(metric.date), 'MMM dd, yyyy')}\r\n                    </div>\r\n                    {metric.weight && (\r\n                      <div className=\"text-xs\">{metric.weight} lbs</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center text-gray-400 py-8\">\r\n            No progress photos yet. Upload your first photo above!\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BodyMetrics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}