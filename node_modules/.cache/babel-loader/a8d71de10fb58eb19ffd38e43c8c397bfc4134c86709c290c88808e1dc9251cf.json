{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/OneDrive/Desktop/project/gym/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ref,onValue}from'firebase/database';import{database}from'../firebase/config';import{useAuth}from'../contexts/SimpleAuthContext';import{TrendingUp,TrendingDown,Calendar,Target,Award,Activity,Clock,Zap,BarChart3,Users}from'lucide-react';import{Line,Doughnut}from'react-chartjs-2';import{format,subDays,isAfter}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{setActiveTab}=_ref;const{getUserDataPath,currentUser}=useAuth();const[workouts,setWorkouts]=useState([]);const[metrics,setMetrics]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const workoutsPath=getUserDataPath('workouts');const metricsPath=getUserDataPath('bodyMetrics');if(!workoutsPath||!metricsPath){setLoading(false);return;}// For localStorage-based data\nif(currentUser){try{// Load workouts from localStorage\nconst savedWorkouts=localStorage.getItem(\"gymtracker_workouts_\".concat(currentUser.uid));if(savedWorkouts){const workoutsData=JSON.parse(savedWorkouts);const workoutsList=Object.keys(workoutsData).map(key=>_objectSpread({id:key},workoutsData[key])).sort((a,b)=>new Date(b.date)-new Date(a.date));setWorkouts(workoutsList);}// Load metrics from localStorage\nconst savedMetrics=localStorage.getItem(\"gymtracker_metrics_\".concat(currentUser.uid));if(savedMetrics){const metricsData=JSON.parse(savedMetrics);const metricsList=Object.keys(metricsData).map(key=>_objectSpread({id:key},metricsData[key])).sort((a,b)=>new Date(b.date)-new Date(a.date));setMetrics(metricsList);}}catch(error){console.error('Error loading data from localStorage:',error);}setLoading(false);}},[getUserDataPath,currentUser]);// Calculate stats\nconst getStats=()=>{var _metrics$find,_metrics$;const last7Days=subDays(new Date(),7);const last30Days=subDays(new Date(),30);const recentWorkouts=workouts.filter(w=>isAfter(new Date(w.date),last7Days));const monthlyWorkouts=workouts.filter(w=>isAfter(new Date(w.date),last30Days));const totalVolume=workouts.reduce((sum,w)=>sum+(w.totalVolume||0),0);const avgVolume=workouts.length>0?Math.round(totalVolume/workouts.length):0;const currentWeight=((_metrics$find=metrics.find(m=>m.weight))===null||_metrics$find===void 0?void 0:_metrics$find.weight)||0;const previousWeight=metrics.length>1?((_metrics$=metrics[1])===null||_metrics$===void 0?void 0:_metrics$.weight)||currentWeight:currentWeight;const weightChange=currentWeight-previousWeight;return{totalWorkouts:workouts.length,weeklyWorkouts:recentWorkouts.length,monthlyWorkouts:monthlyWorkouts.length,totalVolume,avgVolume,currentWeight,weightChange,streak:calculateStreak()};};const calculateStreak=()=>{if(workouts.length===0)return 0;let streak=0;let currentDate=new Date();for(let i=0;i<workouts.length;i++){const workoutDate=new Date(workouts[i].date);const daysDiff=Math.floor((currentDate-workoutDate)/(1000*60*60*24));if(daysDiff<=streak+1){streak++;currentDate=workoutDate;}else{break;}}return streak;};// Get recent activity data for chart\nconst getActivityData=()=>{const last14Days=Array.from({length:14},(_,i)=>{const date=subDays(new Date(),13-i);const workoutsOnDate=workouts.filter(w=>format(new Date(w.date),'yyyy-MM-dd')===format(date,'yyyy-MM-dd'));return{date:format(date,'MMM dd'),workouts:workoutsOnDate.length,volume:workoutsOnDate.reduce((sum,w)=>sum+(w.totalVolume||0),0)};});return{labels:last14Days.map(d=>d.date),datasets:[{label:'Volume',data:last14Days.map(d=>d.volume),borderColor:'rgb(59, 130, 246)',backgroundColor:'rgba(59, 130, 246, 0.1)',tension:0.4,fill:true}]};};// Get muscle group distribution\nconst getMuscleGroupData=()=>{const muscleGroups={};workouts.forEach(workout=>{if(workout.exercises){workout.exercises.forEach(exercise=>{const group=exercise.muscleGroup||'Other';muscleGroups[group]=(muscleGroups[group]||0)+1;});}});const colors=['#3B82F6','#10B981','#F59E0B','#EF4444','#8B5CF6','#F97316','#06B6D4','#84CC16'];return{labels:Object.keys(muscleGroups),datasets:[{data:Object.values(muscleGroups),backgroundColor:colors.slice(0,Object.keys(muscleGroups).length),borderWidth:0}]};};const stats=getStats();const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}},elements:{point:{radius:0}}};const doughnutOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{color:'#94a3b8',padding:20,usePointStyle:true}}},cutout:'70%'};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-4 md:p-6 space-y-6 md:space-y-8 animate-fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6 md:mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold gradient-text mb-2\",children:\"Welcome Back!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark-400 text-base md:text-lg\",children:\"Here's your fitness journey overview\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-primary-500\",size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl md:text-2xl font-bold text-primary-400\",children:stats.weeklyWorkouts})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark-400 text-xs md:text-sm\",children:\"This Week\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"text-secondary-500\",size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl md:text-2xl font-bold text-secondary-400\",children:stats.streak})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark-400 text-xs md:text-sm\",children:\"Day Streak\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(Target,{className:\"text-accent-500\",size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl md:text-2xl font-bold text-accent-400\",children:stats.avgVolume})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark-400 text-xs md:text-sm\",children:\"Avg Volume\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(Award,{className:\"text-purple-500\",size:20}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl md:text-2xl font-bold text-purple-400\",children:stats.currentWeight}),stats.weightChange!==0&&(stats.weightChange>0?/*#__PURE__*/_jsx(TrendingUp,{className:\"text-red-400\",size:16}):/*#__PURE__*/_jsx(TrendingDown,{className:\"text-green-400\",size:16}))]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-dark-400 text-xs md:text-sm\",children:\"Weight (lbs)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-glass p-4 md:p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg md:text-xl font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Zap,{className:\"text-primary-500\",size:20}),\"Quick Actions\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('logger'),className:\"quick-action-btn bg-gradient-to-r from-primary-600/20 to-primary-700/20 border-primary-500/30\",children:[/*#__PURE__*/_jsx(Calendar,{size:24,className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Log Workout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-dark-400\",children:\"Start training session\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('metrics'),className:\"quick-action-btn bg-gradient-to-r from-secondary-600/20 to-secondary-700/20 border-secondary-500/30\",children:[/*#__PURE__*/_jsx(Users,{size:24,className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Body Metrics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-dark-400\",children:\"Track measurements\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('charts'),className:\"quick-action-btn bg-gradient-to-r from-accent-600/20 to-accent-700/20 border-accent-500/30\",children:[/*#__PURE__*/_jsx(BarChart3,{size:24,className:\"mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Analytics\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-dark-400\",children:\"View progress\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-dark-800/50 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-base\",children:\"Weekly Goal Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-dark-400 font-semibold\",children:[stats.weeklyWorkouts,\"/4 workouts\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-dark-700 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500\",style:{width:\"\".concat(Math.min(stats.weeklyWorkouts/4*100,100),\"%\")}})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-dark-400 mt-2\",children:stats.weeklyWorkouts>=4?'ðŸŽ‰ Goal achieved this week!':\"\".concat(4-stats.weeklyWorkouts,\" more workouts to reach your goal!\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 card-glass p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4 md:mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg md:text-xl font-semibold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"text-primary-500\",size:20}),\"Recent Activity\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm text-dark-400\",children:\"Last 14 days\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Line,{data:getActivityData(),options:chartOptions})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-glass p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"text-secondary-500\",size:20}),\"Focus Areas\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Doughnut,{data:getMuscleGroupData(),options:doughnutOptions})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-glass p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"text-accent-500\",size:20}),\"Recent Workouts\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 md:space-y-4\",children:workouts.length>0?workouts.slice(0,5).map((workout,index)=>{var _workout$exercises;return/*#__PURE__*/_jsx(\"div\",{className:\"exercise-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-dark-100 text-base md:text-lg\",children:workout.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-dark-400\",children:[format(new Date(workout.date),'MMM dd, yyyy'),\" \\u2022 \",((_workout$exercises=workout.exercises)===null||_workout$exercises===void 0?void 0:_workout$exercises.length)||0,\" exercises\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:text-xl font-semibold text-primary-400\",children:workout.totalVolume||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-dark-400\",children:\"volume\"})]})]})},workout.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 md:py-12 text-dark-400\",children:[/*#__PURE__*/_jsx(Activity,{size:48,className:\"mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg md:text-xl font-medium text-dark-200 mb-2\",children:\"Welcome to GymTracker!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6 text-base\",children:\"Ready to start your fitness journey?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('logger'),className:\"btn-primary text-base md:text-lg py-3 px-8\",children:\"Log Your First Workout\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-glass p-4 md:p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"text-primary-500\",size:20}),\"This Month\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl md:text-3xl font-bold text-primary-400 mb-1\",children:stats.monthlyWorkouts}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm text-dark-400\",children:\"Workouts\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl md:text-3xl font-bold text-secondary-400 mb-1\",children:[Math.round(stats.totalVolume/1000),\"K\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm text-dark-400\",children:\"Volume\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl md:text-3xl font-bold text-accent-400 mb-1\",children:workouts.reduce((sum,w)=>{var _w$exercises;return sum+(((_w$exercises=w.exercises)===null||_w$exercises===void 0?void 0:_w$exercises.length)||0);},0)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm text-dark-400\",children:\"Exercises\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl md:text-3xl font-bold text-purple-400 mb-1\",children:Math.round(stats.monthlyWorkouts>0?stats.totalVolume/stats.monthlyWorkouts:0)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs md:text-sm text-dark-400\",children:\"Avg/Workout\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","ref","onValue","database","useAuth","TrendingUp","TrendingDown","Calendar","Target","Award","Activity","Clock","Zap","BarChart3","Users","Line","Doughnut","format","subDays","isAfter","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","setActiveTab","getUserDataPath","currentUser","workouts","setWorkouts","metrics","setMetrics","loading","setLoading","workoutsPath","metricsPath","savedWorkouts","localStorage","getItem","concat","uid","workoutsData","JSON","parse","workoutsList","Object","keys","map","key","_objectSpread","id","sort","a","b","Date","date","savedMetrics","metricsData","metricsList","error","console","getStats","_metrics$find","_metrics$","last7Days","last30Days","recentWorkouts","filter","w","monthlyWorkouts","totalVolume","reduce","sum","avgVolume","length","Math","round","currentWeight","find","m","weight","previousWeight","weightChange","totalWorkouts","weeklyWorkouts","streak","calculateStreak","currentDate","i","workoutDate","daysDiff","floor","getActivityData","last14Days","Array","from","_","workoutsOnDate","volume","labels","d","datasets","label","data","borderColor","backgroundColor","tension","fill","getMuscleGroupData","muscleGroups","forEach","workout","exercises","exercise","group","muscleGroup","colors","values","slice","borderWidth","stats","chartOptions","responsive","maintainAspectRatio","plugins","legend","display","scales","x","y","elements","point","radius","doughnutOptions","position","color","padding","usePointStyle","cutout","className","children","size","onClick","style","width","min","options","index","_workout$exercises","name","_w$exercises"],"sources":["C:/Users/ASUS/OneDrive/Desktop/project/gym/src/components/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ref, onValue } from 'firebase/database';\r\nimport { database } from '../firebase/config';\r\nimport { useAuth } from '../contexts/SimpleAuthContext';\r\nimport { \r\n  TrendingUp, \r\n  TrendingDown, \r\n  Calendar, \r\n  Target, \r\n  Award, \r\n  Activity,\r\n  Clock,\r\n  Zap,\r\n  BarChart3,\r\n  Users\r\n} from 'lucide-react';\r\nimport { Line, Doughnut } from 'react-chartjs-2';\r\nimport { format, subDays, isAfter } from 'date-fns';\r\n\r\nconst Dashboard = ({ setActiveTab }) => {\r\n  const { getUserDataPath, currentUser } = useAuth();\r\n  const [workouts, setWorkouts] = useState([]);\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const workoutsPath = getUserDataPath('workouts');\r\n    const metricsPath = getUserDataPath('bodyMetrics');\r\n    \r\n    if (!workoutsPath || !metricsPath) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // For localStorage-based data\r\n    if (currentUser) {\r\n      try {\r\n        // Load workouts from localStorage\r\n        const savedWorkouts = localStorage.getItem(`gymtracker_workouts_${currentUser.uid}`);\r\n        if (savedWorkouts) {\r\n          const workoutsData = JSON.parse(savedWorkouts);\r\n          const workoutsList = Object.keys(workoutsData).map(key => ({\r\n            id: key,\r\n            ...workoutsData[key]\r\n          })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n          setWorkouts(workoutsList);\r\n        }\r\n\r\n        // Load metrics from localStorage\r\n        const savedMetrics = localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`);\r\n        if (savedMetrics) {\r\n          const metricsData = JSON.parse(savedMetrics);\r\n          const metricsList = Object.keys(metricsData).map(key => ({\r\n            id: key,\r\n            ...metricsData[key]\r\n          })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n          setMetrics(metricsList);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading data from localStorage:', error);\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }, [getUserDataPath, currentUser]);\r\n\r\n  // Calculate stats\r\n  const getStats = () => {\r\n    const last7Days = subDays(new Date(), 7);\r\n    const last30Days = subDays(new Date(), 30);\r\n    \r\n    const recentWorkouts = workouts.filter(w => isAfter(new Date(w.date), last7Days));\r\n    const monthlyWorkouts = workouts.filter(w => isAfter(new Date(w.date), last30Days));\r\n    \r\n    const totalVolume = workouts.reduce((sum, w) => sum + (w.totalVolume || 0), 0);\r\n    const avgVolume = workouts.length > 0 ? Math.round(totalVolume / workouts.length) : 0;\r\n    \r\n    const currentWeight = metrics.find(m => m.weight)?.weight || 0;\r\n    const previousWeight = metrics.length > 1 ? metrics[1]?.weight || currentWeight : currentWeight;\r\n    const weightChange = currentWeight - previousWeight;\r\n    \r\n    return {\r\n      totalWorkouts: workouts.length,\r\n      weeklyWorkouts: recentWorkouts.length,\r\n      monthlyWorkouts: monthlyWorkouts.length,\r\n      totalVolume,\r\n      avgVolume,\r\n      currentWeight,\r\n      weightChange,\r\n      streak: calculateStreak()\r\n    };\r\n  };\r\n\r\n  const calculateStreak = () => {\r\n    if (workouts.length === 0) return 0;\r\n    \r\n    let streak = 0;\r\n    let currentDate = new Date();\r\n    \r\n    for (let i = 0; i < workouts.length; i++) {\r\n      const workoutDate = new Date(workouts[i].date);\r\n      const daysDiff = Math.floor((currentDate - workoutDate) / (1000 * 60 * 60 * 24));\r\n      \r\n      if (daysDiff <= streak + 1) {\r\n        streak++;\r\n        currentDate = workoutDate;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    \r\n    return streak;\r\n  };\r\n\r\n  // Get recent activity data for chart\r\n  const getActivityData = () => {\r\n    const last14Days = Array.from({ length: 14 }, (_, i) => {\r\n      const date = subDays(new Date(), 13 - i);\r\n      const workoutsOnDate = workouts.filter(w => \r\n        format(new Date(w.date), 'yyyy-MM-dd') === format(date, 'yyyy-MM-dd')\r\n      );\r\n      \r\n      return {\r\n        date: format(date, 'MMM dd'),\r\n        workouts: workoutsOnDate.length,\r\n        volume: workoutsOnDate.reduce((sum, w) => sum + (w.totalVolume || 0), 0)\r\n      };\r\n    });\r\n\r\n    return {\r\n      labels: last14Days.map(d => d.date),\r\n      datasets: [\r\n        {\r\n          label: 'Volume',\r\n          data: last14Days.map(d => d.volume),\r\n          borderColor: 'rgb(59, 130, 246)',\r\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n          tension: 0.4,\r\n          fill: true,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  // Get muscle group distribution\r\n  const getMuscleGroupData = () => {\r\n    const muscleGroups = {};\r\n    \r\n    workouts.forEach(workout => {\r\n      if (workout.exercises) {\r\n        workout.exercises.forEach(exercise => {\r\n          const group = exercise.muscleGroup || 'Other';\r\n          muscleGroups[group] = (muscleGroups[group] || 0) + 1;\r\n        });\r\n      }\r\n    });\r\n\r\n    const colors = [\r\n      '#3B82F6', '#10B981', '#F59E0B', '#EF4444', \r\n      '#8B5CF6', '#F97316', '#06B6D4', '#84CC16'\r\n    ];\r\n\r\n    return {\r\n      labels: Object.keys(muscleGroups),\r\n      datasets: [\r\n        {\r\n          data: Object.values(muscleGroups),\r\n          backgroundColor: colors.slice(0, Object.keys(muscleGroups).length),\r\n          borderWidth: 0,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const stats = getStats();\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        display: false,\r\n      },\r\n      y: {\r\n        display: false,\r\n      }\r\n    },\r\n    elements: {\r\n      point: {\r\n        radius: 0,\r\n      }\r\n    }\r\n  };\r\n\r\n  const doughnutOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'bottom',\r\n        labels: {\r\n          color: '#94a3b8',\r\n          padding: 20,\r\n          usePointStyle: true,\r\n        }\r\n      },\r\n    },\r\n    cutout: '70%',\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-4 md:p-6 space-y-6 md:space-y-8 animate-fade-in\">\r\n      {/* Mobile-Optimized Header */}\r\n      <div className=\"text-center mb-6 md:mb-8\">\r\n        <h1 className=\"text-3xl md:text-4xl font-bold gradient-text mb-2\">Welcome Back!</h1>\r\n        <p className=\"text-dark-400 text-base md:text-lg\">Here's your fitness journey overview</p>\r\n      </div>\r\n\r\n      {/* Quick Stats Grid - Mobile First */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8\">\r\n        <div className=\"stat-card p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <Calendar className=\"text-primary-500\" size={20} />\r\n            <span className=\"text-xl md:text-2xl font-bold text-primary-400\">{stats.weeklyWorkouts}</span>\r\n          </div>\r\n          <p className=\"text-dark-400 text-xs md:text-sm\">This Week</p>\r\n        </div>\r\n\r\n        <div className=\"stat-card p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <Zap className=\"text-secondary-500\" size={20} />\r\n            <span className=\"text-xl md:text-2xl font-bold text-secondary-400\">{stats.streak}</span>\r\n          </div>\r\n          <p className=\"text-dark-400 text-xs md:text-sm\">Day Streak</p>\r\n        </div>\r\n\r\n        <div className=\"stat-card p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <Target className=\"text-accent-500\" size={20} />\r\n            <span className=\"text-xl md:text-2xl font-bold text-accent-400\">{stats.avgVolume}</span>\r\n          </div>\r\n          <p className=\"text-dark-400 text-xs md:text-sm\">Avg Volume</p>\r\n        </div>\r\n\r\n        <div className=\"stat-card p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <Award className=\"text-purple-500\" size={20} />\r\n            <div className=\"flex items-center gap-1\">\r\n              <span className=\"text-xl md:text-2xl font-bold text-purple-400\">{stats.currentWeight}</span>\r\n              {stats.weightChange !== 0 && (\r\n                stats.weightChange > 0 ? \r\n                  <TrendingUp className=\"text-red-400\" size={16} /> : \r\n                  <TrendingDown className=\"text-green-400\" size={16} />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <p className=\"text-dark-400 text-xs md:text-sm\">Weight (lbs)</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Actions - Mobile Priority */}\r\n      <div className=\"card-glass p-4 md:p-6 mb-6\">\r\n        <h3 className=\"text-lg md:text-xl font-semibold mb-4 flex items-center gap-2\">\r\n          <Zap className=\"text-primary-500\" size={20} />\r\n          Quick Actions\r\n        </h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n          <button \r\n            onClick={() => setActiveTab('logger')}\r\n            className=\"quick-action-btn bg-gradient-to-r from-primary-600/20 to-primary-700/20 border-primary-500/30\"\r\n          >\r\n            <Calendar size={24} className=\"mr-3\" />\r\n            <div className=\"text-left\">\r\n              <div className=\"font-semibold\">Log Workout</div>\r\n              <div className=\"text-sm text-dark-400\">Start training session</div>\r\n            </div>\r\n          </button>\r\n          <button \r\n            onClick={() => setActiveTab('metrics')}\r\n            className=\"quick-action-btn bg-gradient-to-r from-secondary-600/20 to-secondary-700/20 border-secondary-500/30\"\r\n          >\r\n            <Users size={24} className=\"mr-3\" />\r\n            <div className=\"text-left\">\r\n              <div className=\"font-semibold\">Body Metrics</div>\r\n              <div className=\"text-sm text-dark-400\">Track measurements</div>\r\n            </div>\r\n          </button>\r\n          <button \r\n            onClick={() => setActiveTab('charts')}\r\n            className=\"quick-action-btn bg-gradient-to-r from-accent-600/20 to-accent-700/20 border-accent-500/30\"\r\n          >\r\n            <BarChart3 size={24} className=\"mr-3\" />\r\n            <div className=\"text-left\">\r\n              <div className=\"font-semibold\">Analytics</div>\r\n              <div className=\"text-sm text-dark-400\">View progress</div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Weekly Goal Progress - Prominent on Mobile */}\r\n        <div className=\"mt-6 p-4 bg-dark-800/50 rounded-xl\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <span className=\"font-medium text-base\">Weekly Goal Progress</span>\r\n            <span className=\"text-sm text-dark-400 font-semibold\">{stats.weeklyWorkouts}/4 workouts</span>\r\n          </div>\r\n          <div className=\"w-full bg-dark-700 rounded-full h-3\">\r\n            <div \r\n              className=\"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500\"\r\n              style={{ width: `${Math.min((stats.weeklyWorkouts / 4) * 100, 100)}%` }}\r\n            ></div>\r\n          </div>\r\n          <p className=\"text-sm text-dark-400 mt-2\">\r\n            {stats.weeklyWorkouts >= 4 ? 'ðŸŽ‰ Goal achieved this week!' : `${4 - stats.weeklyWorkouts} more workouts to reach your goal!`}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content Grid - Mobile Stacked */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8\">\r\n        {/* Activity Chart */}\r\n        <div className=\"lg:col-span-2 card-glass p-4 md:p-6\">\r\n          <div className=\"flex items-center justify-between mb-4 md:mb-6\">\r\n            <h3 className=\"text-lg md:text-xl font-semibold flex items-center gap-2\">\r\n              <Activity className=\"text-primary-500\" size={20} />\r\n              Recent Activity\r\n            </h3>\r\n            <span className=\"text-xs md:text-sm text-dark-400\">Last 14 days</span>\r\n          </div>\r\n          <div className=\"chart-container\">\r\n            <Line data={getActivityData()} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Muscle Group Distribution */}\r\n        <div className=\"card-glass p-4 md:p-6\">\r\n          <h3 className=\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\">\r\n            <BarChart3 className=\"text-secondary-500\" size={20} />\r\n            Focus Areas\r\n          </h3>\r\n          <div className=\"chart-container\">\r\n            <Doughnut data={getMuscleGroupData()} options={doughnutOptions} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Workouts - Mobile Optimized */}\r\n      <div className=\"card-glass p-4 md:p-6\">\r\n        <h3 className=\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\">\r\n          <Clock className=\"text-accent-500\" size={20} />\r\n          Recent Workouts\r\n        </h3>\r\n        <div className=\"space-y-3 md:space-y-4\">\r\n          {workouts.length > 0 ? (\r\n            workouts.slice(0, 5).map((workout, index) => (\r\n              <div key={workout.id} className=\"exercise-card\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"font-medium text-dark-100 text-base md:text-lg\">{workout.name}</h4>\r\n                    <p className=\"text-sm text-dark-400\">\r\n                      {format(new Date(workout.date), 'MMM dd, yyyy')} â€¢ {workout.exercises?.length || 0} exercises\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-lg md:text-xl font-semibold text-primary-400\">{workout.totalVolume || 0}</div>\r\n                    <div className=\"text-xs text-dark-400\">volume</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"text-center py-8 md:py-12 text-dark-400\">\r\n              <Activity size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n              <h4 className=\"text-lg md:text-xl font-medium text-dark-200 mb-2\">Welcome to GymTracker!</h4>\r\n              <p className=\"mb-6 text-base\">Ready to start your fitness journey?</p>\r\n              <button \r\n                onClick={() => setActiveTab('logger')}\r\n                className=\"btn-primary text-base md:text-lg py-3 px-8\"\r\n              >\r\n                Log Your First Workout\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Monthly Summary - Simplified for Mobile */}\r\n      <div className=\"card-glass p-4 md:p-6\">\r\n        <h3 className=\"text-lg md:text-xl font-semibold mb-4 md:mb-6 flex items-center gap-2\">\r\n          <BarChart3 className=\"text-primary-500\" size={20} />\r\n          This Month\r\n        </h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl md:text-3xl font-bold text-primary-400 mb-1\">{stats.monthlyWorkouts}</div>\r\n            <div className=\"text-xs md:text-sm text-dark-400\">Workouts</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl md:text-3xl font-bold text-secondary-400 mb-1\">{Math.round(stats.totalVolume / 1000)}K</div>\r\n            <div className=\"text-xs md:text-sm text-dark-400\">Volume</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl md:text-3xl font-bold text-accent-400 mb-1\">\r\n              {workouts.reduce((sum, w) => sum + (w.exercises?.length || 0), 0)}\r\n            </div>\r\n            <div className=\"text-xs md:text-sm text-dark-400\">Exercises</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl md:text-3xl font-bold text-purple-400 mb-1\">\r\n              {Math.round(stats.monthlyWorkouts > 0 ? stats.totalVolume / stats.monthlyWorkouts : 0)}\r\n            </div>\r\n            <div className=\"text-xs md:text-sm text-dark-400\">Avg/Workout</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}