{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\project\\\\gym\\\\src\\\\components\\\\BodyMetrics.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ref, push, set, onValue } from 'firebase/database';\nimport { ref as storageRef, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { database, storage } from '../firebase/config';\nimport { useAuth } from '../contexts/SimpleAuthContext';\nimport { Camera, Save, TrendingUp, TrendingDown } from 'lucide-react';\nimport { Line } from 'react-chartjs-2';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BodyMetrics = () => {\n  _s();\n  var _metrics$find, _metrics$find2;\n  const {\n    currentUser\n  } = useAuth();\n  const [metrics, setMetrics] = useState([]);\n  const [currentMetric, setCurrentMetric] = useState({\n    date: new Date().toISOString().split('T')[0],\n    weight: '',\n    bodyFat: '',\n    notes: ''\n  });\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!currentUser) {\n      setLoading(false);\n      return;\n    }\n    try {\n      // Load metrics from localStorage\n      const savedMetrics = localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`);\n      if (savedMetrics) {\n        const metricsData = JSON.parse(savedMetrics);\n        const metricsList = Object.keys(metricsData).map(key => ({\n          id: key,\n          ...metricsData[key]\n        })).sort((a, b) => new Date(b.date) - new Date(a.date));\n        setMetrics(metricsList);\n      }\n    } catch (error) {\n      console.error('Error loading metrics:', error);\n    }\n    setLoading(false);\n  }, [currentUser]);\n  const handlePhotoSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedPhoto(file);\n    }\n  };\n  const uploadPhoto = async file => {\n    const timestamp = Date.now();\n    const photoRef = storageRef(storage, `progress-photos/${timestamp}_${file.name}`);\n    const snapshot = await uploadBytes(photoRef, file);\n    return await getDownloadURL(snapshot.ref);\n  };\n  const saveMetric = async () => {\n    if (!currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto) return;\n    if (!currentUser) {\n      alert('Please log in to save metrics');\n      return;\n    }\n    setUploading(true);\n    try {\n      let photoUrl = null;\n      if (selectedPhoto) {\n        try {\n          photoUrl = await uploadPhoto(selectedPhoto);\n        } catch (photoError) {\n          console.warn('Photo upload failed:', photoError);\n          // Continue without photo\n        }\n      }\n      const metricData = {\n        ...currentMetric,\n        weight: parseFloat(currentMetric.weight) || null,\n        bodyFat: parseFloat(currentMetric.bodyFat) || null,\n        photoUrl,\n        timestamp: Date.now()\n      };\n\n      // Save to localStorage\n      const metricId = `metric-${Date.now()}`;\n      const existingMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\n      existingMetrics[metricId] = metricData;\n      localStorage.setItem(`gymtracker_metrics_${currentUser.uid}`, JSON.stringify(existingMetrics));\n\n      // Also try to save to Firebase if available\n      try {\n        const metricsRef = ref(database, `users/${currentUser.uid}/bodyMetrics`);\n        const newMetricRef = push(metricsRef);\n        await set(newMetricRef, metricData);\n      } catch (firebaseError) {\n        console.warn('Firebase save failed, data saved locally:', firebaseError);\n      }\n\n      // Reset form\n      setCurrentMetric({\n        date: new Date().toISOString().split('T')[0],\n        weight: '',\n        bodyFat: '',\n        notes: ''\n      });\n      setSelectedPhoto(null);\n      alert('Metrics saved successfully!');\n\n      // Reload metrics\n      const updatedMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\n      const metricsList = Object.keys(updatedMetrics).map(key => ({\n        id: key,\n        ...updatedMetrics[key]\n      })).sort((a, b) => new Date(b.date) - new Date(a.date));\n      setMetrics(metricsList);\n    } catch (error) {\n      console.error('Error saving metrics:', error);\n      alert('Error saving metrics');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Prepare weight chart data\n  const getWeightData = () => {\n    const weightData = metrics.filter(m => m.weight).reverse().slice(-30); // Last 30 entries\n\n    return {\n      labels: weightData.map(data => format(new Date(data.date), 'MMM dd')),\n      datasets: [{\n        label: 'Weight (lbs)',\n        data: weightData.map(data => data.weight),\n        borderColor: 'rgb(59, 130, 246)',\n        backgroundColor: 'rgba(59, 130, 246, 0.1)',\n        tension: 0.1,\n        fill: true\n      }]\n    };\n  };\n\n  // Prepare body fat chart data\n  const getBodyFatData = () => {\n    const bodyFatData = metrics.filter(m => m.bodyFat).reverse().slice(-30); // Last 30 entries\n\n    return {\n      labels: bodyFatData.map(data => format(new Date(data.date), 'MMM dd')),\n      datasets: [{\n        label: 'Body Fat %',\n        data: bodyFatData.map(data => data.bodyFat),\n        borderColor: 'rgb(16, 185, 129)',\n        backgroundColor: 'rgba(16, 185, 129, 0.1)',\n        tension: 0.1,\n        fill: true\n      }]\n    };\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: '#F9FAFB'\n        }\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: '#9CA3AF'\n        },\n        grid: {\n          color: '#374151'\n        }\n      },\n      y: {\n        ticks: {\n          color: '#9CA3AF'\n        },\n        grid: {\n          color: '#374151'\n        }\n      }\n    }\n  };\n\n  // Calculate trends\n  const getWeightTrend = () => {\n    const recentWeights = metrics.filter(m => m.weight).slice(0, 5);\n    if (recentWeights.length < 2) return null;\n    const latest = recentWeights[0].weight;\n    const previous = recentWeights[recentWeights.length - 1].weight;\n    const change = latest - previous;\n    return {\n      change: Math.abs(change).toFixed(1),\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\n    };\n  };\n  const getBodyFatTrend = () => {\n    const recentBodyFat = metrics.filter(m => m.bodyFat).slice(0, 5);\n    if (recentBodyFat.length < 2) return null;\n    const latest = recentBodyFat[0].bodyFat;\n    const previous = recentBodyFat[recentBodyFat.length - 1].bodyFat;\n    const change = latest - previous;\n    return {\n      change: Math.abs(change).toFixed(1),\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg\",\n        children: \"Loading metrics...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this);\n  }\n  const weightTrend = getWeightTrend();\n  const bodyFatTrend = getBodyFatTrend();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-6 text-center\",\n      children: \"Body Metrics & Progress\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 rounded-lg p-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Log New Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: currentMetric.date,\n            onChange: e => setCurrentMetric(prev => ({\n              ...prev,\n              date: e.target.value\n            })),\n            className: \"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"Weight (lbs)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.1\",\n            value: currentMetric.weight,\n            onChange: e => setCurrentMetric(prev => ({\n              ...prev,\n              weight: e.target.value\n            })),\n            className: \"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",\n            placeholder: \"e.g., 180.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium mb-2\",\n            children: \"Body Fat %\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.1\",\n            value: currentMetric.bodyFat,\n            onChange: e => setCurrentMetric(prev => ({\n              ...prev,\n              bodyFat: e.target.value\n            })),\n            className: \"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",\n            placeholder: \"e.g., 15.2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: currentMetric.notes,\n          onChange: e => setCurrentMetric(prev => ({\n            ...prev,\n            notes: e.target.value\n          })),\n          className: \"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\",\n          rows: \"2\",\n          placeholder: \"Optional notes about your progress...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium mb-2\",\n          children: \"Progress Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handlePhotoSelect,\n          className: \"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), selectedPhoto && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-sm text-green-400\",\n          children: [\"Selected: \", selectedPhoto.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveMetric,\n        disabled: uploading || !currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto,\n        className: \"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded flex items-center justify-center gap-2\",\n        children: uploading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Uploading...\"\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), \"Save Metrics\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-400\",\n          children: ((_metrics$find = metrics.find(m => m.weight)) === null || _metrics$find === void 0 ? void 0 : _metrics$find.weight) || '--'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Current Weight (lbs)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), weightTrend && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-xs flex items-center justify-center gap-1 mt-1 ${weightTrend.direction === 'up' ? 'text-red-400' : weightTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'}`,\n          children: [weightTrend.direction === 'up' ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 49\n          }, this) : weightTrend.direction === 'down' ? /*#__PURE__*/_jsxDEV(TrendingDown, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 51\n          }, this) : null, weightTrend.change, \" lbs\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-400\",\n          children: [((_metrics$find2 = metrics.find(m => m.bodyFat)) === null || _metrics$find2 === void 0 ? void 0 : _metrics$find2.bodyFat) || '--', \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Current Body Fat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), bodyFatTrend && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `text-xs flex items-center justify-center gap-1 mt-1 ${bodyFatTrend.direction === 'up' ? 'text-red-400' : bodyFatTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'}`,\n          children: [bodyFatTrend.direction === 'up' ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 50\n          }, this) : bodyFatTrend.direction === 'down' ? /*#__PURE__*/_jsxDEV(TrendingDown, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 52\n          }, this) : null, bodyFatTrend.change, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-yellow-400\",\n          children: metrics.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Total Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-purple-400\",\n          children: metrics.filter(m => m.photoUrl).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400\",\n          children: \"Progress Photos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Weight Progression\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: getWeightData(),\n            options: chartOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Body Fat Progression\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-container\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: getBodyFatData(),\n            options: chartOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 rounded-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Camera, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), \"Progress Photos\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), metrics.filter(m => m.photoUrl).length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",\n        children: metrics.filter(m => m.photoUrl).slice(0, 12) // Show latest 12 photos\n        .map(metric => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: metric.photoUrl,\n            alt: `Progress ${format(new Date(metric.date), 'MMM dd, yyyy')}`,\n            className: \"w-full h-48 object-cover rounded-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2 rounded-b-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium\",\n              children: format(new Date(metric.date), 'MMM dd, yyyy')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 21\n            }, this), metric.weight && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs\",\n              children: [metric.weight, \" lbs\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 19\n          }, this)]\n        }, metric.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-400 py-8\",\n        children: \"No progress photos yet. Upload your first photo above!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n};\n_s(BodyMetrics, \"GlSI45h+cSobJbbMqFJikSYjnJI=\", false, function () {\n  return [useAuth];\n});\n_c = BodyMetrics;\nexport default BodyMetrics;\nvar _c;\n$RefreshReg$(_c, \"BodyMetrics\");","map":{"version":3,"names":["React","useState","useEffect","ref","push","set","onValue","storageRef","uploadBytes","getDownloadURL","database","storage","useAuth","Camera","Save","TrendingUp","TrendingDown","Line","format","jsxDEV","_jsxDEV","Fragment","_Fragment","BodyMetrics","_s","_metrics$find","_metrics$find2","currentUser","metrics","setMetrics","currentMetric","setCurrentMetric","date","Date","toISOString","split","weight","bodyFat","notes","selectedPhoto","setSelectedPhoto","uploading","setUploading","loading","setLoading","savedMetrics","localStorage","getItem","uid","metricsData","JSON","parse","metricsList","Object","keys","map","key","id","sort","a","b","error","console","handlePhotoSelect","event","file","target","files","uploadPhoto","timestamp","now","photoRef","name","snapshot","saveMetric","alert","photoUrl","photoError","warn","metricData","parseFloat","metricId","existingMetrics","setItem","stringify","metricsRef","newMetricRef","firebaseError","updatedMetrics","getWeightData","weightData","filter","m","reverse","slice","labels","data","datasets","label","borderColor","backgroundColor","tension","fill","getBodyFatData","bodyFatData","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","color","scales","x","ticks","grid","y","getWeightTrend","recentWeights","length","latest","previous","change","Math","abs","toFixed","direction","getBodyFatTrend","recentBodyFat","className","children","fileName","_jsxFileName","lineNumber","columnNumber","weightTrend","bodyFatTrend","type","value","onChange","e","prev","step","placeholder","rows","accept","onClick","disabled","size","find","options","metric","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/project/gym/src/components/BodyMetrics.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { ref, push, set, onValue } from 'firebase/database';\r\nimport { ref as storageRef, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport { database, storage } from '../firebase/config';\r\nimport { useAuth } from '../contexts/SimpleAuthContext';\r\nimport { Camera, Save, TrendingUp, TrendingDown } from 'lucide-react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { format } from 'date-fns';\r\n\r\nconst BodyMetrics = () => {\r\n  const { currentUser } = useAuth();\r\n  const [metrics, setMetrics] = useState([]);\r\n  const [currentMetric, setCurrentMetric] = useState({\r\n    date: new Date().toISOString().split('T')[0],\r\n    weight: '',\r\n    bodyFat: '',\r\n    notes: ''\r\n  });\r\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Load metrics from localStorage\r\n      const savedMetrics = localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`);\r\n      if (savedMetrics) {\r\n        const metricsData = JSON.parse(savedMetrics);\r\n        const metricsList = Object.keys(metricsData).map(key => ({\r\n          id: key,\r\n          ...metricsData[key]\r\n        })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        setMetrics(metricsList);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading metrics:', error);\r\n    }\r\n    setLoading(false);\r\n  }, [currentUser]);\r\n\r\n  const handlePhotoSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setSelectedPhoto(file);\r\n    }\r\n  };\r\n\r\n  const uploadPhoto = async (file) => {\r\n    const timestamp = Date.now();\r\n    const photoRef = storageRef(storage, `progress-photos/${timestamp}_${file.name}`);\r\n    const snapshot = await uploadBytes(photoRef, file);\r\n    return await getDownloadURL(snapshot.ref);\r\n  };\r\n\r\n  const saveMetric = async () => {\r\n    if (!currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto) return;\r\n    \r\n    if (!currentUser) {\r\n      alert('Please log in to save metrics');\r\n      return;\r\n    }\r\n    \r\n    setUploading(true);\r\n    try {\r\n      let photoUrl = null;\r\n      if (selectedPhoto) {\r\n        try {\r\n          photoUrl = await uploadPhoto(selectedPhoto);\r\n        } catch (photoError) {\r\n          console.warn('Photo upload failed:', photoError);\r\n          // Continue without photo\r\n        }\r\n      }\r\n\r\n      const metricData = {\r\n        ...currentMetric,\r\n        weight: parseFloat(currentMetric.weight) || null,\r\n        bodyFat: parseFloat(currentMetric.bodyFat) || null,\r\n        photoUrl,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      // Save to localStorage\r\n      const metricId = `metric-${Date.now()}`;\r\n      const existingMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\r\n      existingMetrics[metricId] = metricData;\r\n      localStorage.setItem(`gymtracker_metrics_${currentUser.uid}`, JSON.stringify(existingMetrics));\r\n\r\n      // Also try to save to Firebase if available\r\n      try {\r\n        const metricsRef = ref(database, `users/${currentUser.uid}/bodyMetrics`);\r\n        const newMetricRef = push(metricsRef);\r\n        await set(newMetricRef, metricData);\r\n      } catch (firebaseError) {\r\n        console.warn('Firebase save failed, data saved locally:', firebaseError);\r\n      }\r\n\r\n      // Reset form\r\n      setCurrentMetric({\r\n        date: new Date().toISOString().split('T')[0],\r\n        weight: '',\r\n        bodyFat: '',\r\n        notes: ''\r\n      });\r\n      setSelectedPhoto(null);\r\n      \r\n      alert('Metrics saved successfully!');\r\n      \r\n      // Reload metrics\r\n      const updatedMetrics = JSON.parse(localStorage.getItem(`gymtracker_metrics_${currentUser.uid}`) || '{}');\r\n      const metricsList = Object.keys(updatedMetrics).map(key => ({\r\n        id: key,\r\n        ...updatedMetrics[key]\r\n      })).sort((a, b) => new Date(b.date) - new Date(a.date));\r\n      setMetrics(metricsList);\r\n      \r\n    } catch (error) {\r\n      console.error('Error saving metrics:', error);\r\n      alert('Error saving metrics');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  // Prepare weight chart data\r\n  const getWeightData = () => {\r\n    const weightData = metrics\r\n      .filter(m => m.weight)\r\n      .reverse()\r\n      .slice(-30); // Last 30 entries\r\n\r\n    return {\r\n      labels: weightData.map(data => format(new Date(data.date), 'MMM dd')),\r\n      datasets: [\r\n        {\r\n          label: 'Weight (lbs)',\r\n          data: weightData.map(data => data.weight),\r\n          borderColor: 'rgb(59, 130, 246)',\r\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\r\n          tension: 0.1,\r\n          fill: true,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  // Prepare body fat chart data\r\n  const getBodyFatData = () => {\r\n    const bodyFatData = metrics\r\n      .filter(m => m.bodyFat)\r\n      .reverse()\r\n      .slice(-30); // Last 30 entries\r\n\r\n    return {\r\n      labels: bodyFatData.map(data => format(new Date(data.date), 'MMM dd')),\r\n      datasets: [\r\n        {\r\n          label: 'Body Fat %',\r\n          data: bodyFatData.map(data => data.bodyFat),\r\n          borderColor: 'rgb(16, 185, 129)',\r\n          backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n          tension: 0.1,\r\n          fill: true,\r\n        }\r\n      ]\r\n    };\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        position: 'top',\r\n        labels: {\r\n          color: '#F9FAFB'\r\n        }\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        ticks: { color: '#9CA3AF' },\r\n        grid: { color: '#374151' }\r\n      },\r\n      y: {\r\n        ticks: { color: '#9CA3AF' },\r\n        grid: { color: '#374151' }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Calculate trends\r\n  const getWeightTrend = () => {\r\n    const recentWeights = metrics.filter(m => m.weight).slice(0, 5);\r\n    if (recentWeights.length < 2) return null;\r\n    \r\n    const latest = recentWeights[0].weight;\r\n    const previous = recentWeights[recentWeights.length - 1].weight;\r\n    const change = latest - previous;\r\n    \r\n    return {\r\n      change: Math.abs(change).toFixed(1),\r\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\r\n    };\r\n  };\r\n\r\n  const getBodyFatTrend = () => {\r\n    const recentBodyFat = metrics.filter(m => m.bodyFat).slice(0, 5);\r\n    if (recentBodyFat.length < 2) return null;\r\n    \r\n    const latest = recentBodyFat[0].bodyFat;\r\n    const previous = recentBodyFat[recentBodyFat.length - 1].bodyFat;\r\n    const change = latest - previous;\r\n    \r\n    return {\r\n      change: Math.abs(change).toFixed(1),\r\n      direction: change > 0 ? 'up' : change < 0 ? 'down' : 'stable'\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"text-lg\">Loading metrics...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const weightTrend = getWeightTrend();\r\n  const bodyFatTrend = getBodyFatTrend();\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-4\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">Body Metrics & Progress</h2>\r\n      \r\n      {/* Input Form */}\r\n      <div className=\"bg-gray-800 rounded-lg p-4 mb-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Log New Metrics</h3>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Date</label>\r\n            <input\r\n              type=\"date\"\r\n              value={currentMetric.date}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, date: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Weight (lbs)</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              value={currentMetric.weight}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, weight: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n              placeholder=\"e.g., 180.5\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-sm font-medium mb-2\">Body Fat %</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.1\"\r\n              value={currentMetric.bodyFat}\r\n              onChange={(e) => setCurrentMetric(prev => ({ ...prev, bodyFat: e.target.value }))}\r\n              className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n              placeholder=\"e.g., 15.2\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Notes</label>\r\n          <textarea\r\n            value={currentMetric.notes}\r\n            onChange={(e) => setCurrentMetric(prev => ({ ...prev, notes: e.target.value }))}\r\n            className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n            rows=\"2\"\r\n            placeholder=\"Optional notes about your progress...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium mb-2\">Progress Photo</label>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handlePhotoSelect}\r\n            className=\"w-full p-2 bg-gray-700 rounded border border-gray-600 focus:border-blue-500\"\r\n          />\r\n          {selectedPhoto && (\r\n            <div className=\"mt-2 text-sm text-green-400\">\r\n              Selected: {selectedPhoto.name}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={saveMetric}\r\n          disabled={uploading || (!currentMetric.weight && !currentMetric.bodyFat && !selectedPhoto)}\r\n          className=\"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-2 px-4 rounded flex items-center justify-center gap-2\"\r\n        >\r\n          {uploading ? (\r\n            <>Uploading...</>\r\n          ) : (\r\n            <>\r\n              <Save size={20} />\r\n              Save Metrics\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Current Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-blue-400\">\r\n            {metrics.find(m => m.weight)?.weight || '--'}\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Current Weight (lbs)</div>\r\n          {weightTrend && (\r\n            <div className={`text-xs flex items-center justify-center gap-1 mt-1 ${\r\n              weightTrend.direction === 'up' ? 'text-red-400' : \r\n              weightTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'\r\n            }`}>\r\n              {weightTrend.direction === 'up' ? <TrendingUp size={12} /> : \r\n               weightTrend.direction === 'down' ? <TrendingDown size={12} /> : null}\r\n              {weightTrend.change} lbs\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-green-400\">\r\n            {metrics.find(m => m.bodyFat)?.bodyFat || '--'}%\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Current Body Fat</div>\r\n          {bodyFatTrend && (\r\n            <div className={`text-xs flex items-center justify-center gap-1 mt-1 ${\r\n              bodyFatTrend.direction === 'up' ? 'text-red-400' : \r\n              bodyFatTrend.direction === 'down' ? 'text-green-400' : 'text-gray-400'\r\n            }`}>\r\n              {bodyFatTrend.direction === 'up' ? <TrendingUp size={12} /> : \r\n               bodyFatTrend.direction === 'down' ? <TrendingDown size={12} /> : null}\r\n              {bodyFatTrend.change}%\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-yellow-400\">{metrics.length}</div>\r\n          <div className=\"text-sm text-gray-400\">Total Entries</div>\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4 text-center\">\r\n          <div className=\"text-2xl font-bold text-purple-400\">\r\n            {metrics.filter(m => m.photoUrl).length}\r\n          </div>\r\n          <div className=\"text-sm text-gray-400\">Progress Photos</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\r\n        <div className=\"bg-gray-800 rounded-lg p-4\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Weight Progression</h3>\r\n          <div className=\"chart-container\">\r\n            <Line data={getWeightData()} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"bg-gray-800 rounded-lg p-4\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Body Fat Progression</h3>\r\n          <div className=\"chart-container\">\r\n            <Line data={getBodyFatData()} options={chartOptions} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Progress Photos Gallery */}\r\n      <div className=\"bg-gray-800 rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n          <Camera size={20} />\r\n          Progress Photos\r\n        </h3>\r\n        \r\n        {metrics.filter(m => m.photoUrl).length > 0 ? (\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n            {metrics\r\n              .filter(m => m.photoUrl)\r\n              .slice(0, 12) // Show latest 12 photos\r\n              .map((metric) => (\r\n                <div key={metric.id} className=\"relative\">\r\n                  <img\r\n                    src={metric.photoUrl}\r\n                    alt={`Progress ${format(new Date(metric.date), 'MMM dd, yyyy')}`}\r\n                    className=\"w-full h-48 object-cover rounded-lg\"\r\n                  />\r\n                  <div className=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white p-2 rounded-b-lg\">\r\n                    <div className=\"text-sm font-medium\">\r\n                      {format(new Date(metric.date), 'MMM dd, yyyy')}\r\n                    </div>\r\n                    {metric.weight && (\r\n                      <div className=\"text-xs\">{metric.weight} lbs</div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center text-gray-400 py-8\">\r\n            No progress photos yet. Upload your first photo above!\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BodyMetrics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}